<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>cosTransactions</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="css/main.css" type="text/css" media="screen" />
    <script src="js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'>
        <tr>
            <td class="file-title"><span class="file-title-prefix">Module</span><br />cosTransactions</td>
            <td align="right">

            </td>
        </tr>
    </table>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
    <p>To get access to the record definitions for the structures use:      <br>
<tt>-include_lib("cosTransactions/include/CosTransactions.hrl").</tt></p>
    <p>This module contains the functions for starting and stopping the application.
      If the application is started using <tt>application:start(cosTransactions)</tt> the 
      default configuration is used (see listing below). The Factory reference is stored using the CosNaming Service
      under the id <tt>"oe_cosTransactionsFac_IPNo"</tt>.</p>
    <p>The following application configuration parameters exist:</p>
    <list type="bulleted">
      <item><em>maxRetries</em> - default is 40 times, i.e., if a transaction participant is unreachable
       the application will retry to contact it <tt>N</tt> times. Reaching the maximum is considered to be a disaster.</item>
      <item><em>comFailWait</em> - default is 5000 milliseconds, i.e., before the application
       retries to contact unreachable transaction participants the application wait <tt>Time</tt> milliseconds.</item>
    </list>
  </div>
    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <ul>
        
        <li><a href="#startgtReturn">start() -&gt; Return</a></li>
        
        <li><a href="#start_factoryFacDefgtTransactionFactory">start_factory(FacDef) -&gt; TransactionFactory</a></li>
        
        <li><a href="#start_factorygtTransactionFactory">start_factory() -&gt; TransactionFactory</a></li>
        
        <li><a href="#stopgtReturn">stop() -&gt; Return</a></li>
        
        <li><a href="#stop_factoryTransactionFactorygtReply">stop_factory(TransactionFactory) -&gt; Reply</a></li>
        
    </ul>
    

     
	<div class="sectiontitle">Exports</div>
		
            <div class="method">
                <div class="title">
                    <a name="startgtReturn"></a><b>start() -&gt; Return</b>
                </div>

								
                <div class="func_types">
									Types:
									<p>
                  
        <b>Return = ok | {error, Reason}</b><br/>
      
									</p>
                </div>
                
                
                <div class="description">
                  
        <p>This operation starts the cosTransactions application.</p>
      
                </div>
                

            </div>
      
            <div class="method">
                <div class="title">
                    <a name="stopgtReturn"></a><b>stop() -&gt; Return</b>
                </div>

								
                <div class="func_types">
									Types:
									<p>
                  
        <b>Return = ok | {error, Reason}</b><br/>
      
									</p>
                </div>
                
                
                <div class="description">
                  
        <p>This operation stops the cosTransactions application.</p>
      
                </div>
                

            </div>
      
            <div class="method">
                <div class="title">
                    <a name="start_factorygtTransactionFactory"></a><b>start_factory() -&gt; TransactionFactory</b>
                </div>

								
                <div class="func_types">
									Types:
									<p>
                  
        <b>TransactionFactory = #objref</b><br/>
      
									</p>
                </div>
                
                
                <div class="description">
                  
        <p>This operation creates a <seealso marker="CosTransactions_TransactionFactory">Transaction Factory</seealso>.
          The Factory is used to create a new top-level <seealso marker="CosTransactions_Control">transaction</seealso> using default options (see listing below).</p>
      
                </div>
                

            </div>
      
            <div class="method">
                <div class="title">
                    <a name="start_factoryFacDefgtTransactionFactory"></a><b>start_factory(FacDef) -&gt; TransactionFactory</b>
                </div>

								
                <div class="func_types">
									Types:
									<p>
                  
        <b>FacDef = [Options], see Option listing below.</b><br/>
        <b>TransactionFactory = #objref</b><br/>
      
									</p>
                </div>
                
                
                <div class="description">
                  
        <p>This operation creates a <seealso marker="CosTransactions_TransactionFactory">Transaction Factory</seealso>.
          The Factory is used to create a new top-level transaction. </p>
        <p>The FacDef list must be a list of {Item, Value} tuples, 
          where the following values are allowed: </p>
        <list type="bulleted">
          <item>{hash_max, HashValue} - 
           This value denotes the upper bound of the hash value the 
          <seealso marker="CosTransactions_Coordinator">Coordinator</seealso> uses.
           Default is <tt>1013</tt>. HashValue must be an integer.</item>
          <item>{allow_subtr, Boolean} -
           If set to true it is possible to create <seealso marker="CosTransactions_Coordinator">subtransactions</seealso>.
           Default is <tt>true</tt>.</item>
          <item>{typecheck, Boolean} -
           If set to to true all transaction operation's arguments will be type-checked.
           Default is <tt>true</tt>.</item>
          <item>{tty, Boolean} -  
           Enables or disables error printouts to the tty. 
           If Flag is false, all text that the error logger would have sent to the terminal is discarded. 
           If Flag is true, error messages are sent to the terminal screen. </item>
          <item>{logfile, FileName} -
           This function makes it possible to store all system information in <tt>FileName</tt> (string()).
           It can be used in combination with the tty(false) item in to have a silent system, 
           where all system information are logged to a file. 
           As default no logfile is used.</item>
          <item><tt>{maxRetries, Integer}</tt> -
           default is 40 times, i.e., if a transaction participant is unreachable the application will 
           retry to contact it <tt>N</tt> times. Reaching the maximum is considered to be a disaster.
           This option overrides the application configuration parameter.</item>
          <item><tt>{comFailWait, Integer}</tt> -
           default is 5000 milliseconds, i.e., before the application retries to contact unreachable 
           transaction participants the application wait <tt>Time</tt> milliseconds.
           This option overrides the application configuration parameter.</item>
        </list>
      
                </div>
                

            </div>
      
            <div class="method">
                <div class="title">
                    <a name="stop_factoryTransactionFactorygtReply"></a><b>stop_factory(TransactionFactory) -&gt; Reply</b>
                </div>

								
                <div class="func_types">
									Types:
									<p>
                  
        <b>TransactionFactory = #objref</b><br/>
        <b>Reply = ok | {'EXCEPTION', E}</b><br/>
      
									</p>
                </div>
                
                
                <div class="description">
                  
        <p>This operation stop the target transaction factory.</p>
      
                </div>
                

            </div>
      


    
</div>
    </div>
  </body>
</html>    